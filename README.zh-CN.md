# Mermaid Zoom Viewer

一个用于 Obsidian 的插件，增强 Mermaid 图表的缩放和平移功能，允许全屏查看 SVG 内容。

[English Version](README.md)

## 功能

- **自动检测**：自动识别笔记中的 Mermaid 图表，包括甘特图、流程图等。
- **缩放按钮**：在每个 Mermaid 图表的左上角添加一个放大器图标按钮。
- **全屏模态窗口**：点击按钮可在全屏模态窗口中打开图表。
- **交互控制**：支持：
  - 鼠标滚轮缩放
  - 拖放平移
  - 放大/缩小按钮
  - 重置缩放按钮
  - 缩放级别显示
- **移动设备支持**：移动设备上的触摸事件用于缩放和平移。
- **PNG 导出**：可选择将图表导出为 PNG 图像。
- **可自定义设置**：控制何时显示缩放按钮、默认缩放级别等。
- **主题兼容**：适用于 Obsidian 中的浅色和深色主题。

## 安装

### 手动安装

1. 从 [GitHub 仓库](https://github.com/HP-Patience/Mermaid-Zoom-Viewer/releases) 下载最新版本
2. 解压缩 zip 文件
3. 将解压后的文件夹复制到您的 vault 的 `.obsidian/plugins/` 目录
4. 在 Obsidian 设置中启用插件

## 使用

1. 创建或打开带有 Mermaid 图表的笔记
2. 在阅读模式或实时预览中，您会在每个图表的左上角看到一个放大器图标按钮
3. 点击按钮在全屏模式下打开图表
4. 使用鼠标滚轮放大和缩小
5. 点击并拖动以平移图表
6. 使用底部的控制按钮放大/缩小、重置缩放或导出为 PNG
7. 按 ESC 或点击关闭按钮退出全屏模式

## 设置

插件包含一个设置选项卡，您可以在其中配置：

- **始终显示缩放按钮**：在所有 Mermaid 图表上显示缩放按钮
- **默认缩放级别**：打开图表时的初始缩放级别
- **最小缩放级别**：允许的最小缩放级别
- **最大缩放级别**：允许的最大缩放级别
- **启用 PNG 导出**：允许将图表导出为 PNG 图像
- **SVG 容器宽度**：模态窗口中 SVG 容器的宽度百分比
- **SVG 容器高度**：模态窗口中 SVG 容器的高度百分比

## 兼容性

- **阅读模式**：✅ 完全支持
- **实时预览模式**：✅ 完全支持
- **源代码模式**：✅ 无干扰
- **移动应用**：✅ 支持触摸事件

## 开发

### 先决条件

- Node.js v16 或更高版本
- npm 或 yarn

### 设置

1. 克隆此仓库
2. 导航到项目目录
3. 运行 `npm install` 安装依赖项
4. 运行 `npm run dev` 启动开发模式
5. 将项目文件夹复制到您的 vault 的 `.obsidian/plugins/` 目录
6. 重新加载 Obsidian 以加载插件

### 构建发布版本

1. 运行 `npm run build` 创建生产构建
2. 构建的文件将在项目根目录中

## 贡献

欢迎贡献！请随时提交 Pull Request。

## 许可证

此插件采用 0-BSD 许可证。

## 支持

如果您有任何问题或功能请求，请在 [GitHub 仓库](https://github.com/HP-Patience/Mermaid-Zoom-Viewer/issues) 上打开一个 issue。

---

为 Obsidian 用户精心制作！